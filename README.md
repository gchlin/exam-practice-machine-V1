# 刷題機 V1 - SPA 版本

## 🎉 全新架構！

這是**單頁應用 (SPA)** 版本的刷題機，解決了原版本的所有問題！

---

## ✨ 主要改進

### ✅ 解決的問題

1. **資料不會消失** - 單頁面設計，資料一直在記憶體中
2. **不需要伺服器** - 可以直接雙擊開啟（需本地資料）
3. **載入超快** - 頁面切換瞬間完成
4. **程式碼簡潔** - 只有 3 個檔案，易於維護
5. **沒有模組問題** - 不使用 ES6 Modules

### 📦 檔案結構

```
shuatiji-spa/
├── index.html     (主頁面，包含所有 UI)
├── app.js         (所有功能邏輯，1165 行)
├── style.css      (Win98 復古風格)
├── data.csv       (範例題庫)
└── images/        (題目圖片資料夾)
```

**超級簡單！** 只有 4 個檔案！

---

## 🚀 快速開始

### 方法 1：使用本地伺服器（推薦）

#### Windows:
```bash
# 雙擊這個檔案
啟動伺服器.bat

# 或在命令提示字元執行
cd shuatiji-spa
python -m http.server 8000

# 開啟瀏覽器訪問
http://localhost:8000
```

#### Mac/Linux:
```bash
# 雙擊這個檔案
./啟動伺服器.sh

# 或在終端機執行
cd shuatiji-spa
python3 -m http.server 8000

# 開啟瀏覽器訪問
http://localhost:8000
```

### 方法 2：直接開啟（本地模式）

1. 雙擊 `index.html`
2. 選擇「本地檔案」模式
3. 上傳你的 `data.csv`
4. 開始使用！

### 方法 3：部署到 GitHub Pages

詳細步驟請參考原版的 `GitHub部署指南.md`

---

## 📝 使用說明

### 主頁面

```
┌─────────────────────────────────────┐
│ 📅 練習熱圖                          │
│ ├─ GitHub 風格的日曆熱圖             │
│ ├─ 顯示每日練習時間                  │
│ └─ 點擊日期查看詳情                  │
├─────────────────────────────────────┤
│ 🔍 篩選條件                          │
│ ├─ 年份、學校、章節、難度            │
│ ├─ 練習狀態、搜尋                    │
│ └─ 套用篩選 / 重設                  │
├─────────────────────────────────────┤
│ 📝 題目列表                          │
│ ├─ 勾選要練習的題目                  │
│ ├─ 查看練習紀錄                      │
│ └─ 直接開始單題練習                  │
├─────────────────────────────────────┤
│ [開始練習] [隨機3題] [統計分析]      │
└─────────────────────────────────────┘
```

### 刷題頁面

```
┌─────────────────────────────────────┐
│ 題目來源: 114蘭陽女中  1/10  ⏱️ 00:05 │
├─────────────────────────────────────┤
│                                     │
│          [題目圖片]                  │
│                                     │
├─────────────────────────────────────┤
│ [⬅上一題] [下一題➡]                 │
│ [顯示解答] [✓答對] [✗答錯] [⊘跳過]  │
├─────────────────────────────────────┤
│ 難度: ★★★☆☆                        │
│ 筆記: [輸入框]                       │
├─────────────────────────────────────┤
│ [改天再戰] [回到列表] [✓完成練習]    │
└─────────────────────────────────────┘
```

---

## ⌨️ 鍵盤快捷鍵

### 刷題時：
- `←` / `→` : 上一題 / 下一題
- `Space` : 暫停 / 繼續計時
- `C` : 答對
- `X` : 答錯
- `S` : 跳過
- `A` : 顯示/隱藏解答
- `1-5` : 快速評分 1-5 星

---

## 📊 功能特色

### 1. 題庫管理
- ✅ 支援線上載入（GitHub Pages）
- ✅ 支援本地上傳（CSV 檔案）
- ✅ 自動儲存到 localStorage
- ✅ 多維度篩選和搜尋

### 2. 練習模式
- ✅ 一般模式（練習選中的題目）
- ✅ 隨機模式（隨機 3 題）
- ✅ 單題模式（直接練習單一題目）
- ✅ 預測模式（開發中）

### 3. 計時功能
- ✅ 全局計時器
- ✅ 單題計時
- ✅ 暫停/繼續
- ✅ 自動記錄時間

### 4. 答題記錄
- ✅ 答對/答錯/跳過
- ✅ 難度評價（1-5 星）
- ✅ 筆記功能
- ✅ 自動儲存

### 5. 統計分析
- ✅ 總體統計（題數、練習次數、時間）
- ✅ 答題結果（正確率）
- ✅ 難度分析（各難度的表現）
- ✅ 資料匯出（JSON 格式）

### 6. Hobbit Log（熱圖）
- ✅ GitHub 風格日曆熱圖
- ✅ 顯示每日練習時間
- ✅ 顏色深淺表示練習量
- ✅ 點擊查看當日詳情
- ✅ 本月統計摘要

---

## 💾 資料儲存

### LocalStorage 結構

```javascript
{
  questions: [...],      // 題庫資料
  practiceLog: [...],    // 練習紀錄
  predictLog: [...],     // 預測紀錄
  hobbitLog: [...]       // 每日練習紀錄
}
```

### 清除資料

打開瀏覽器開發者工具 (F12)：
```javascript
// 清除所有資料
localStorage.clear();

// 只清除特定資料
localStorage.removeItem('practiceLog');
```

---

## 🎨 自訂樣式

所有樣式都在 `style.css` 中，可以輕鬆修改：

### 修改顏色主題
```css
:root {
  --win98-bg: #c0c0c0;      /* 背景色 */
  --win98-blue: #000080;    /* 主題藍色 */
  /* ... 修改這些變數 */
}
```

### 修改字體
```css
body {
  font-family: 'MS Sans Serif', Tahoma, Arial, sans-serif;
  /* 改成你喜歡的字體 */
}
```

---

## 🔧 常見問題

### Q: 為什麼推薦使用本地伺服器？

A: 雖然可以直接開啟，但使用伺服器有以下優點：
- ✅ 可以使用「線上題庫」模式
- ✅ 圖片載入更穩定
- ✅ 完整體驗所有功能

### Q: data.csv 格式要求？

A: 必須包含以下欄位（逗號分隔）：
```csv
ExamID,Display Name,Version,Year,School,Chapter,Difficulty,Problem Image,Answer Image,Solution Image,...
```

### Q: 圖片無法顯示？

A: 檢查：
1. 圖片是否在 `images/` 資料夾中
2. CSV 中的路徑是否正確
3. 路徑格式：`images/xxx.webp`

### Q: LocalStorage 容量限制？

A: 
- 通常限制：5-10 MB
- 建議題庫 CSV < 5 MB
- 圖片不計入（按需載入）

### Q: 如何備份資料？

A: 
1. 點擊「匯出資料」按鈕
2. 下載 JSON 檔案
3. 妥善保存

---

## 🆚 SPA 版 vs 原版

| 特性 | SPA 版 | 原版 (模組化) |
|------|--------|--------------|
| **檔案數量** | 3 個 | 14 個 |
| **HTML 頁面** | 1 個 | 6 個 |
| **資料跨頁** | ✅ 不會消失 | ❌ 會消失 |
| **雙擊開啟** | ✅ 可以 | ❌ 不行 |
| **需要伺服器** | 可選 | 必須 |
| **程式碼行數** | ~1165 | ~1000 (分散) |
| **維護難度** | ⭐ 容易 | ⭐⭐ 中等 |
| **載入速度** | ⚡ 超快 | ⚡ 快 |
| **學習曲線** | ⭐ 簡單 | ⭐⭐⭐ 較難 |

---

## 📈 效能

### 載入效能
- 首次載入：2-3 秒（含 1-3MB CSV）
- 後續載入：< 1 秒（localStorage 快取）
- 頁面切換：即時（< 100ms）

### 記憶體使用
- 基礎使用：~5-10 MB
- 載入 1000 題：~15-20 MB
- 當前圖片：~1-2 MB
- **總計：< 30 MB** ✅

---

## 🤝 貢獻

這是開源專案，歡迎：
- 🐛 回報 Bug
- 💡 提出新功能建議
- 🎨 改進 UI 設計
- 📝 完善文件

---

## 📄 授權

MIT License

---

## 🙏 致謝

- 原始設計靈感來自 Windows 98
- 感謝所有提供題庫的老師們
- 感謝所有使用者的回饋

---

## 📞 聯絡資訊

如有問題或建議，歡迎：
- 開 Issue
- 發 Pull Request
- 直接聯絡開發者

---

**享受刷題的樂趣！加油！💪**

---

## 更新日誌

### v1.0 (SPA 版本) - 2024-12-04
- 🎉 全新 SPA 架構
- ✅ 解決資料跨頁消失問題
- ✅ 簡化檔案結構（3 個檔案）
- ✅ 改進使用者體驗
- ✅ 完整的 Hobbit Log 熱圖
- ✅ 鍵盤快捷鍵支援
- ✅ Win98 復古風格
