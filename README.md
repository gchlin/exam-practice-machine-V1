# 刷題機 V1 - Windows 98 Edition

## 🎉 全新版本 v2.0

根據您的需求完全重新設計的刷題系統！

---

## ✨ 主要特色

### 1. 極致緊湊的表格
- ✅ 超窄欄位設計（序號、年分、練習次數等）
- ✅ 欄位順序優化
- ✅ 可顯示/隱藏圖片和文字欄位

### 2. 完整的預測流程
```
選擇題目 → 預測難度 → 正式刷題
```
- ✅ 瀏覽題目圖片
- ✅ 預測每題難度（1-5星）
- ✅ 記錄預測 vs 實際難度

### 3. 多種隨機模式
- 總題庫隨機
- 指定章節隨機
- 指定難度隨機
- 未練習題目隨機

### 4. 未完成會話恢復
- ✅ 改天再戰自動儲存
- ✅ 下次開啟詢問是否繼續
- ✅ 斷點續練

### 5. 搜尋題目內文
- ✅ 搜尋 "Extracted Text" 欄位
- ✅ 即使隱藏仍可搜尋

### 6. 筆記即時存檔
- ✅ 筆記旁邊有存檔按鈕
- ✅ 自動關聯到該題

### 7. 完整的 Hobbit Log
- ✅ GitHub 風格熱力圖
- ✅ 90天練習記錄
- ✅ 點擊查看每日詳情

---

## 📂 檔案結構

```
shuatiji-v2/
├── index.html         主頁面
├── style.css          Win98 風格樣式
├── app.js             主程式邏輯（1136行）
├── data.csv           範例題庫
├── images/            題目圖片資料夾
├── 啟動伺服器.bat     Windows 啟動腳本
├── 啟動伺服器.sh      Mac/Linux 啟動腳本
└── README.md          本說明文件
```

---

## 🚀 快速開始

### 方法 1：一鍵啟動（推薦）

**Windows:**
```
雙擊「啟動伺服器.bat」
```

**Mac/Linux:**
```
雙擊「啟動伺服器.sh」
```

瀏覽器會自動開啟 `http://localhost:8000`

### 方法 2：手動啟動

```bash
cd shuatiji-v2
python -m http.server 8000

# 開啟瀏覽器訪問
# http://localhost:8000
```

---

## 📖 使用流程

### 1. 載入題庫

```
首次使用：
1. 選擇「線上題庫」或「本地檔案」
2. 點擊「載入題庫」
3. 等待載入完成
```

### 2. 篩選題目

```
工具列：
- 年份、學校、章節篩選
- 狀態篩選（已練習/未練習）
- 搜尋題目內文
- 套用篩選/重設
```

### 3. 選擇練習模式

**隨機3題:**
```
1. 選擇隨機模式：
   - 總題庫隨機
   - 指定章節隨機
   - 指定難度隨機
   - 未練習隨機
   
2. 點擊「隨機3題」
```

**自選題目:**
```
1. 勾選想練習的題目
2. 點擊「開始練習選中題目」
```

### 4. 預測難度

```
瀏覽題目圖片
↓
點擊星星預測難度（1-5顆）
↓
點擊「開始正式刷題」
```

### 5. 正式刷題

```
題目頁面：
- 查看題目圖片（可放大）
- 按 A 或點擊顯示解答/詳解
- 記錄結果：正確/錯誤/跳過
- 評實際難度（1-5星）
- 寫筆記 + 存檔

計時器：
- 黃底黑字顯示
- 開始/暫停/重設

導航：
- 上一題/下一題
- 改天再戰（儲存進度）
- 結束本輪（看 Summary）
```

### 6. Summary

```
本輪統計：
- 總題數、已作答
- 答對/答錯/跳過
- 正確率

詳細記錄：
- 每題結果
- 時間、預測vs實際難度
- 筆記
```

---

## ⌨️ 鍵盤快捷鍵

### 練習時：
- `A` - 顯示/隱藏解答
- `←` - 上一題
- `→` - 下一題
- `1-5` - 快速評分

---

## 🎨 表格說明

### 欄位寬度（極窄版）

| 欄位 | 寬度 | 說明 |
|------|------|------|
| ☑ | 30px | 複選框 |
| 序號 | 40px | 2字元 |
| 年分 | 45px | 3字元 |
| 學校 | 55px | 4字元 |
| 章節 | 100px | 可調 |
| 難度 | 60px | 星星 |
| 題目圖片 | 100px | 縮圖 |
| 題目文字 | 250px | Extracted Text |
| 練習 | 40px | 2字元 |
| 最近 | 70px | 日期 |
| 跳過 | 40px | 2字元 |

### 顯示控制

```
☑ 顯示題目圖片
☑ 顯示題目文字
```
- 可隨時切換
- 隱藏後仍可搜尋

---

## 💾 資料儲存

### LocalStorage 結構

```javascript
{
  questions: [...],           // 題庫
  practiceLog: [             // 練習紀錄
    {
      Q_ID: "...",
      Date: "2024-12-04",
      TimeSeconds: 120,
      PredictedDifficulty: 3,
      ActualDifficulty: 4,
      Note: "...",
      Result: "Correct"
    }
  ],
  hobbitLog: [...],          // 每日紀錄
  unfinishedSession: {...}   // 未完成會話
}
```

### 清除資料

```javascript
// 瀏覽器開發者工具 (F12)
localStorage.clear();
```

---

## 📊 CSV 格式

### 必要欄位

```csv
ExamID,Year,School,Chapter,Difficulty,Problem Image,Answer Image,Solution Image,Extracted Text
q-001,114,蘭陽女中,力學,3,images/q001.webp,images/q001_ans.webp,images/q001_sol.webp,"這是題目文字..."
```

### 欄位說明

| 欄位 | 說明 | 範例 |
|------|------|------|
| ExamID | 題目ID | q-001 |
| Year | 年份 | 114 |
| School | 學校 | 蘭陽女中 |
| Chapter | 章節 | 力學 |
| Difficulty | 難度 | 1-5 |
| Problem Image | 題目圖片 | images/q001.webp |
| Answer Image | 解答圖片 | images/q001_ans.webp |
| Solution Image | 詳解圖片 | images/q001_sol.webp |
| Extracted Text | 題目文字 | 題目內容... |

---

## 🔧 技術細節

### 系統需求
- 現代瀏覽器（Chrome 90+, Firefox 88+, Safari 14+）
- Python 3.x（用於本地伺服器）

### 程式碼統計
```
index.html:    400 行
style.css:     600 行
app.js:       1136 行
────────────────────────
總計:        2136 行
```

### 特色技術
- ✅ 純 JavaScript（無框架）
- ✅ LocalStorage 資料持久化
- ✅ 未完成會話恢復
- ✅ CSV 解析
- ✅ 圖片預覽
- ✅ 熱力圖視覺化

---

## 🎯 與舊版對比

| 功能 | 舊版 (v1) | 新版 (v2) |
|------|-----------|-----------|
| 表格寬度 | 一般 | ✅ 極窄 |
| 預測流程 | 無 | ✅ 完整 |
| 隨機模式 | 1種 | ✅ 4種 |
| 未完成會話 | 無 | ✅ 有 |
| 搜尋功能 | Display Name | ✅ Extracted Text |
| 筆記存檔 | 自動 | ✅ 手動+自動 |
| 計時器樣式 | 普通 | ✅ 黃底黑字 |
| 標題列圖示 | 無 | ✅ -, □, X |

---

## ❓ 常見問題

### Q: 為什麼需要本地伺服器？

A: 因為瀏覽器的安全限制，使用 `file://` 協議無法正常載入 CSV 和圖片。使用 HTTP 協議可以完整體驗所有功能。

### Q: 「改天再戰」的資料存在哪？

A: 存在瀏覽器的 LocalStorage 中，下次開啟會自動詢問是否繼續。

### Q: 如何備份練習紀錄？

A: 點擊「匯出所有紀錄」按鈕，會下載 JSON 檔案。

### Q: 圖片無法顯示怎麼辦？

A: 檢查：
1. 圖片是否在 `images/` 資料夾中
2. CSV 中的路徑是否正確
3. 是否使用本地伺服器（不要雙擊開啟）

### Q: 預測難度會影響什麼？

A: 預測難度用於：
- 記錄你對題目難度的第一印象
- 與實際難度對比，了解自己的判斷力
- 不影響練習流程

---

## 🐛 已知問題

目前沒有已知問題！如有發現請回報。

---

## 📝 更新日誌

### v2.0 (2024-12-04)
- ✅ 全新 Windows 98 風格設計
- ✅ 極致緊湊的表格
- ✅ 完整預測難度流程
- ✅ 多種隨機模式
- ✅ 未完成會話恢復
- ✅ 搜尋 Extracted Text
- ✅ 筆記即時存檔
- ✅ Hobbit Log 熱力圖
- ✅ 1136 行完整功能

---

## 🙏 致謝

感謝您的使用和回饋！

---

## 📞 技術支援

如有問題或建議，歡迎回饋！

---

**祝你刷題順利！加油！** 💪📚
