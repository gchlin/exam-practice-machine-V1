<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>預測難度 - 刷題機 V1</title>
  <link rel="stylesheet" href="css/win98.css">
</head>
<body>
  <div class="window">
    <div class="title-bar">
      <div class="title-bar-text">刷題機 V1 - 預測難度</div>
      <div class="title-bar-controls">
        <button aria-label="Minimize">_</button>
        <button aria-label="Maximize">□</button>
        <button aria-label="Close" onclick="window.close()">✕</button>
      </div>
    </div>

    <div class="window-body">
      <fieldset>
        <legend>預測難度階段</legend>
        
        <div style="text-align: center; margin: 20px 0;">
          <div style="font-size: 16px; margin-bottom: 16px;">
            請先快速瀏覽每一題，並根據您的第一印象評估題目的難度等級。
            <br>這將幫助系統更好地追蹤您的學習進度。
          </div>
          
          <div class="progress-bar" style="max-width: 500px; margin: 16px auto;">
            <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
          </div>
          
          <div style="font-size: 14px; font-weight: bold; margin-top: 8px;">
            進度: <span id="progressText">0 / 0</span>
          </div>
        </div>
      </fieldset>

      <fieldset>
        <legend>題目 <span id="currentNumber">1</span></legend>
        
        <div style="display: flex; gap: 16px; margin: 16px 0;">
          <div style="flex: 1; text-align: center;">
            <div style="font-size: 11px; color: var(--win98-darkgray); margin-bottom: 8px;">
              <strong>年份:</strong> <span id="qYear"></span> |
              <strong>學校:</strong> <span id="qSchool"></span> |
              <strong>章節:</strong> <span id="qChapter"></span>
            </div>
          </div>
        </div>

        <div class="question-image-container">
          <img id="questionImage" class="question-image" src="" alt="題目圖片">
        </div>

        <hr>

        <div style="text-align: center; margin: 24px 0;">
          <div style="font-size: 14px; font-weight: bold; margin-bottom: 12px;">
            請評估這題對您來說的難度:
          </div>
          
          <div class="star-rating" id="starRating">
            <span class="star" data-value="1">★</span>
            <span class="star" data-value="2">★</span>
            <span class="star" data-value="3">★</span>
            <span class="star" data-value="4">★</span>
            <span class="star" data-value="5">★</span>
          </div>
          
          <div style="margin-top: 8px; font-size: 10px; color: var(--win98-darkgray);">
            1星 = 非常簡單 | 2星 = 簡單 | 3星 = 中等 | 4星 = 困難 | 5星 = 非常困難
          </div>
          
          <div style="margin-top: 16px; font-size: 12px; font-weight: bold;" id="ratingText">
            請選擇難度
          </div>
        </div>

        <div class="button-group center">
          <button id="skipBtn">
            <span>⊘</span> 跳過此題
          </button>
          <button id="confirmBtn" disabled style="font-weight: bold; min-width: 120px;">
            <span>✓</span> 確認並繼續
          </button>
        </div>
      </fieldset>

      <fieldset>
        <legend>快速操作</legend>
        <div class="button-group">
          <button id="prevBtn" disabled>
            <span>◀</span> 上一題
          </button>
          <button id="autoFillBtn">
            <span>⚡</span> 自動填入 (全部3星)
          </button>
          <button id="finishBtn">
            <span>🏁</span> 完成預測
          </button>
        </div>
      </fieldset>
    </div>

    <div class="status-bar">
      <div class="status-bar-field" id="statusText">準備就緒</div>
      <div class="status-bar-field" id="statusTime"></div>
    </div>
  </div>

  <script type="module" src="js/predict.js"></script>
</body>
</html>
